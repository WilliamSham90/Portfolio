<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>William Sham - Full Stack Web Developer Portfolio</title>
    
    <!-- Preload critical resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link rel="preconnect" href="https://raw.githubusercontent.com" crossorigin>
    
    <!-- DNS prefetch for external resources -->
    <link rel="dns-prefetch" href="https://cdn.tailwindcss.com">
    
    <!-- Critical CSS inline, defer non-critical -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Fira+Code:wght@400;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Fira+Code:wght@400;600;700&display=swap"></noscript>
    
    <!-- Font Awesome - load only icons we need -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"></noscript>
    
    <style>
/* ===== CSS VARIABLES ===== */
:root {
    --primary: #c084fc;
    --secondary: #a78bfa;
    --accent: #fbbf24;
    --cyan: #67e8f9;
    --purple: #a78bfa;
    --green: #86efac;
    --bg-dark: #0f172a;
    --bg-darker: #020617;
    --bg-card: #1e293b;
    --bg-hover: #334155;
    --border: #334155;
    --text-primary: #f1f5f9;
    --text-secondary: #cbd5e1;
    --text-muted: #94a3b8;
    --gradient-1: linear-gradient(135deg, #c084fc 0%, #a78bfa 50%, #67e8f9 100%);
    --transition: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-fast: 0.15s cubic-bezier(0.4, 0, 0.2, 1);
    --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    --font-code: 'Fira Code', 'Consolas', monospace;
}

[data-theme="light"] {
    --bg-dark: #ffffff;
    --bg-darker: #f8f9fa;
    --bg-card: #ffffff;
    --bg-hover: #f1f3f5;
    --border: #e5e7eb;
    --text-primary: #1f2937;
    --text-secondary: #4b5563;
    --text-muted: #9ca3af;
}

/* ===== RESET & BASE ===== */
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; font-size: 16px; -webkit-text-size-adjust: 100%; }

body {
    font-family: var(--font-primary);
    background: var(--bg-dark);
    color: var(--text-primary);
    line-height: 1.7;
    overflow-x: hidden;
    transition: background var(--transition-fast), color var(--transition-fast);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* ===== LOADER - Optimized ===== */
.loader-screen {
    position: fixed;
    inset: 0;
    background: var(--bg-darker);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 10000;
    transition: opacity 0.4s ease-out, visibility 0.4s;
}

.loader-screen.hidden {
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
}

.loader-content { text-align: center; }

.loader-code-text {
    font-family: var(--font-code);
    font-size: clamp(0.9rem, 2.5vw, 1.2rem);
    color: var(--primary);
    margin-bottom: 2rem;
}

.code-line {
    display: block;
    margin: 0.5rem 0;
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInUp 0.4s ease forwards;
}

.code-line:nth-child(1) { animation-delay: 0.1s; }
.code-line:nth-child(2) { animation-delay: 0.2s; }
.code-line:nth-child(3) { animation-delay: 0.3s; }
.code-line:nth-child(4) { animation-delay: 0.4s; }

@keyframes fadeInUp {
    to { opacity: 1; transform: translateY(0); }
}

.loader-spinner {
    width: 50px;
    height: 50px;
    border: 3px solid var(--border);
    border-top-color: var(--primary);
    border-right-color: var(--cyan);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
    margin: 1.5rem auto;
}

@keyframes spin { to { transform: rotate(360deg); } }

.loader-progress-wrapper {
    width: 180px;
    height: 4px;
    background: var(--border);
    border-radius: 2px;
    margin: 1.5rem auto;
    overflow: hidden;
}

.loader-progress-bar {
    height: 100%;
    background: var(--gradient-1);
    width: 0%;
    animation: progress 1.5s ease forwards;
}

@keyframes progress { to { width: 100%; } }

.loader-percentage {
    font-family: var(--font-code);
    color: var(--primary);
    font-size: 1rem;
}

/* ===== HEADER ===== */
.main-header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background: rgba(10, 14, 39, 0.85);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--border);
    z-index: 1000;
    contain: layout style;
}

.main-header.scrolled { background: rgba(10, 14, 39, 0.95); }

.nav-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 1.5% 8%;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.brand-logo {
    font-family: var(--font-code);
    font-size: 1.4rem;
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 0.2rem;
}

.logo-bracket { color: var(--purple); }

.logo-text {
    background: var(--gradient-1);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.nav-menu {
    display: flex;
    gap: 1.5rem;
    align-items: center;
}

.nav-link {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    color: var(--text-secondary);
    text-decoration: none;
    font-weight: 600;
    font-size: 0.9rem;
    padding: 0.5rem 0.75rem;
    border-radius: 8px;
    transition: color var(--transition-fast);
    position: relative;
}

.nav-link:hover, .nav-link.active { color: var(--primary); }

.nav-link.active::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 70%;
    height: 2px;
    background: var(--gradient-1);
}

.nav-controls {
    display: flex;
    gap: 0.75rem;
    align-items: center;
}

.lang-toggle, .theme-toggle, .menu-toggle {
    background: var(--bg-card);
    border: 1px solid var(--border);
    color: var(--text-primary);
    padding: 0.5rem 0.875rem;
    border-radius: 8px;
    cursor: pointer;
    transition: background var(--transition-fast), border-color var(--transition-fast), color var(--transition-fast);
    display: flex;
    align-items: center;
    gap: 0.4rem;
    font-size: 0.9rem;
}

.lang-toggle:hover, .theme-toggle:hover {
    border-color: var(--primary);
    background: var(--bg-hover);
}

.menu-toggle {
    display: none;
    flex-direction: column;
    gap: 5px;
    padding: 0.65rem;
}

.menu-toggle span {
    width: 22px;
    height: 2px;
    background: var(--text-primary);
    transition: transform var(--transition), opacity var(--transition);
}

.menu-toggle.active span:nth-child(1) {
    transform: rotate(45deg) translate(5px, 5px);
}

.menu-toggle.active span:nth-child(2) { opacity: 0; }

.menu-toggle.active span:nth-child(3) {
    transform: rotate(-45deg) translate(5px, -5px);
}

/* ===== HERO SECTION ===== */
.hero-section {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
    padding: 6rem 8% 4rem;
}

.hero-background {
    position: absolute;
    inset: 0;
    pointer-events: none;
    overflow: hidden;
}

.code-grid-bg {
    position: absolute;
    inset: 0;
    background-image: 
        linear-gradient(rgba(192, 132, 252, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(192, 132, 252, 0.02) 1px, transparent 1px);
    background-size: 50px 50px;
    mask-image: radial-gradient(ellipse at center, black 20%, transparent 70%);
    -webkit-mask-image: radial-gradient(ellipse at center, black 20%, transparent 70%);
}

.floating-particles {
    position: absolute;
    inset: 0;
    overflow: hidden;
}

.particle {
    position: absolute;
    font-family: var(--font-code);
    color: var(--primary);
    opacity: 0.08;
    font-size: 1.5rem;
    animation: float 20s ease-in-out infinite;
}

@keyframes float {
    0%, 100% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
    10% { opacity: 0.08; }
    90% { opacity: 0.08; }
    100% { transform: translateY(-20vh) rotate(360deg); opacity: 0; }
}

.hero-container {
    max-width: 1200px;
    width: 100%;
    position: relative;
    z-index: 1;
}

.hero-content {
    max-width: 700px;
}

.hero-greeting {
    font-family: var(--font-code);
    font-size: clamp(0.9rem, 2vw, 1.1rem);
    color: var(--cyan);
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.greeting-cursor {
    animation: blink 1s infinite;
    color: var(--primary);
}

@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
}

.hero-name {
    font-size: clamp(2.2rem, 6vw, 3.5rem);
    font-weight: 700;
    margin-bottom: 1rem;
    line-height: 1.2;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 0.5rem;
}

.name-prefix {
    font-family: var(--font-code);
    color: var(--purple);
    font-size: 0.6em;
}

.name-operator {
    font-family: var(--font-code);
    color: var(--cyan);
    font-size: 0.6em;
}

.name-value {
    background: var(--gradient-1);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.name-suffix {
    font-family: var(--font-code);
    color: var(--accent);
    font-size: 0.6em;
}

.hero-title {
    font-family: var(--font-code);
    font-size: clamp(1rem, 2.5vw, 1.3rem);
    color: var(--text-secondary);
    margin-bottom: 1.5rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.title-prefix { color: var(--text-muted); }

.hero-description {
    font-size: clamp(0.95rem, 1.5vw, 1.05rem);
    color: var(--text-secondary);
    max-width: 560px;
    margin-bottom: 2rem;
    line-height: 1.8;
}

.hero-buttons {
    display: flex;
    gap: 1rem;
    margin-bottom: 2.5rem;
    flex-wrap: wrap;
}

.btn {
    display: inline-flex;
    align-items: center;
    gap: 0.6rem;
    padding: 0.875rem 1.5rem;
    border-radius: 10px;
    font-weight: 600;
    font-size: 0.9rem;
    text-decoration: none;
    transition: all var(--transition);
    border: none;
    cursor: pointer;
}

.btn-primary {
    background: var(--gradient-1);
    color: white;
    box-shadow: 0 4px 15px rgba(192, 132, 252, 0.3);
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(192, 132, 252, 0.4);
}

.btn-secondary {
    background: transparent;
    color: var(--text-primary);
    border: 1px solid var(--border);
}

.btn-secondary:hover {
    border-color: var(--primary);
    background: rgba(192, 132, 252, 0.1);
}

.hero-social {
    display: flex;
    gap: 0.75rem;
}

.social-icon {
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 10px;
    background: var(--bg-card);
    border: 1px solid var(--border);
    color: var(--text-secondary);
    font-size: 1.2rem;
    transition: all var(--transition-fast);
    text-decoration: none;
}

.social-icon:hover {
    border-color: var(--primary);
    color: var(--primary);
    transform: translateY(-2px);
}

/* ===== SECTIONS ===== */
.section {
    padding: 5rem 0;
    position: relative;
}

.section-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 8%;
}

.section-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 3rem;
}

.section-number {
    font-family: var(--font-code);
    font-size: 0.9rem;
    color: var(--primary);
    opacity: 0.8;
}

.section-title {
    font-size: clamp(1.5rem, 3vw, 1.8rem);
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 0.3rem;
    white-space: nowrap;
}

.title-bracket {
    font-family: var(--font-code);
    color: var(--purple);
    font-weight: 400;
}

.title-text {
    background: var(--gradient-1);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.section-line {
    flex: 1;
    height: 1px;
    background: linear-gradient(90deg, var(--border) 0%, transparent 100%);
    max-width: 300px;
}

/* ===== ABOUT SECTION ===== */
.about-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 3rem;
    align-items: start;
}

.about-text p {
    color: var(--text-secondary);
    margin-bottom: 1.5rem;
    line-height: 1.8;
}

.about-stats {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
    margin-top: 2rem;
}

.stat-item {
    text-align: center;
    padding: 1.25rem;
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 10px;
    transition: border-color var(--transition-fast), transform var(--transition-fast);
}

.stat-item:hover {
    border-color: var(--primary);
    transform: translateY(-2px);
}

.stat-number {
    font-family: var(--font-code);
    font-size: clamp(1.8rem, 4vw, 2rem);
    font-weight: 700;
    color: var(--primary);
    margin-bottom: 0.3rem;
}

.stat-label {
    color: var(--text-secondary);
    font-size: 0.8rem;
}

/* Code block */
.code-block {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 1.5rem;
    font-family: var(--font-code);
    font-size: 0.8rem;
    line-height: 1.7;
    overflow-x: auto;
}

.code-line.indent { padding-left: 1.5rem; }
.code-line.indent-2 { padding-left: 3rem; }

.code-keyword { color: var(--purple); }
.code-variable { color: var(--cyan); }
.code-operator { color: var(--primary); }
.code-brace, .code-bracket { color: var(--accent); }
.code-property { color: var(--cyan); }
.code-string { color: var(--accent); }
.code-comma, .code-semicolon { color: var(--text-muted); }

/* ===== SKILLS SECTION ===== */
.skills-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 1.5rem;
}

.skill-category {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: 1.5rem;
}

.category-title {
    font-family: var(--font-code);
    font-size: 1.1rem;
    color: var(--primary);
    margin-bottom: 1.25rem;
    font-weight: 700;
}

.skill-items {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
}

.skill-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.4rem;
}

.skill-name {
    font-family: var(--font-code);
    color: var(--cyan);
    font-weight: 600;
    font-size: 0.85rem;
}

.skill-percent {
    font-family: var(--font-code);
    color: var(--primary);
    font-weight: 600;
    font-size: 0.85rem;
}

.skill-bar {
    height: 8px;
    background: var(--bg-darker);
    border-radius: 4px;
    overflow: hidden;
    border: 1px solid var(--border);
}

.skill-progress {
    height: 100%;
    background: var(--gradient-1);
    border-radius: 4px;
    width: 0%;
    transition: width 1.5s ease-out;
}

/* ===== TIMELINE/EXPERIENCE ===== */
.timeline {
    position: relative;
    padding-left: 1.5rem;
}

.timeline::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 2px;
    background: var(--gradient-1);
}

.timeline-item {
    position: relative;
    padding-bottom: 2rem;
    padding-left: 2.5rem;
}

.timeline-marker {
    position: absolute;
    left: -2rem;
    top: 0;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: var(--primary);
    border: 3px solid var(--bg-dark);
}

.timeline-content {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 1.5rem;
    transition: border-color var(--transition-fast), transform var(--transition-fast);
}

.timeline-content:hover {
    border-color: var(--primary);
    transform: translateX(4px);
}

.timeline-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.75rem;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.timeline-year {
    font-family: var(--font-code);
    color: var(--primary);
    font-weight: 700;
    font-size: 0.85rem;
}

.timeline-badge {
    background: var(--gradient-1);
    color: white;
    padding: 0.25rem 0.7rem;
    border-radius: 16px;
    font-size: 0.7rem;
    font-weight: 600;
}

.timeline-title {
    font-family: var(--font-code);
    font-size: 1.1rem;
    color: var(--cyan);
    margin-bottom: 0.4rem;
    font-weight: 700;
}

.timeline-company {
    color: var(--purple);
    font-weight: 600;
    margin-bottom: 0.75rem;
    display: flex;
    align-items: center;
    gap: 0.4rem;
    font-size: 0.9rem;
}

.timeline-description {
    color: var(--text-secondary);
    line-height: 1.7;
    margin-bottom: 1rem;
    font-size: 0.9rem;
}

.timeline-achievements {
    display: flex;
    flex-direction: column;
    gap: 0.4rem;
    margin-bottom: 1rem;
    padding: 0.875rem;
    background: var(--bg-darker);
    border-radius: 8px;
    border-left: 3px solid var(--primary);
}

.achievement-item {
    display: flex;
    align-items: flex-start;
    gap: 0.6rem;
    color: var(--text-secondary);
    font-size: 0.85rem;
}

.achievement-item i {
    color: var(--green);
    font-size: 0.85rem;
    margin-top: 0.15rem;
    flex-shrink: 0;
}

.timeline-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.4rem;
}

.tag {
    background: var(--bg-darker);
    color: var(--primary);
    padding: 0.2rem 0.6rem;
    border-radius: 5px;
    font-size: 0.75rem;
    font-family: var(--font-code);
    border: 1px solid var(--border);
}

/* ===== GAMES SECTION ===== */
.games-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 1.5rem;
}

.game-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 14px;
    overflow: hidden;
    transition: transform var(--transition-fast), border-color var(--transition-fast), box-shadow var(--transition-fast);
    contain: layout;
}

.game-card:hover {
    transform: translateY(-4px);
    border-color: var(--primary);
    box-shadow: 0 8px 30px rgba(192, 132, 252, 0.15);
}

.game-preview {
    position: relative;
    width: 100%;
    aspect-ratio: 16/10;
    background: var(--bg-darker);
    overflow: hidden;
}

.game-iframe-wrapper {
    position: absolute;
    inset: 0;
    transform: scale(0.5);
    transform-origin: top left;
    width: 200%;
    height: 200%;
}

.game-iframe {
    width: 100%;
    height: 100%;
    border: none;
    pointer-events: none;
    background: var(--bg-darker);
}

.game-card:hover .game-iframe {
    pointer-events: auto;
}

.game-loader {
    position: absolute;
    inset: 0;
    background: var(--bg-darker);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 10;
    transition: opacity 0.4s ease, visibility 0.4s ease;
}

.game-loader.hidden {
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
}

.game-loader-icon {
    font-size: 2.5rem;
    color: var(--primary);
    margin-bottom: 1rem;
    animation: pulse 1.5s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 0.6; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.05); }
}

.game-loader-spinner {
    width: 36px;
    height: 36px;
    border: 3px solid var(--border);
    border-top-color: var(--primary);
    border-right-color: var(--cyan);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
    margin-bottom: 0.75rem;
}

.game-loader-text {
    font-family: var(--font-code);
    font-size: 0.8rem;
    color: var(--text-muted);
}

.game-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(to bottom, transparent 50%, rgba(0, 0, 0, 0.7) 100%);
    opacity: 0;
    transition: opacity var(--transition-fast);
    display: flex;
    align-items: flex-end;
    justify-content: center;
    padding-bottom: 1rem;
    z-index: 5;
}

.game-card:hover .game-overlay {
    opacity: 1;
}

.game-play-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.6rem 1.2rem;
    background: var(--gradient-1);
    color: white;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 600;
    font-size: 0.85rem;
    transform: translateY(10px);
    opacity: 0;
    transition: all var(--transition-fast);
}

.game-card:hover .game-play-btn {
    transform: translateY(0);
    opacity: 1;
}

.game-play-btn:hover {
    transform: scale(1.05);
}

.game-content {
    padding: 1.25rem;
}

.game-title {
    font-family: var(--font-code);
    font-size: 1rem;
    color: var(--text-primary);
    margin-bottom: 0.4rem;
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.game-title i {
    color: var(--accent);
    font-size: 0.9rem;
}

.game-description {
    color: var(--text-secondary);
    font-size: 0.85rem;
    line-height: 1.6;
    margin-bottom: 0.75rem;
}

.game-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.4rem;
}

.game-tag {
    background: var(--bg-darker);
    color: var(--cyan);
    padding: 0.15rem 0.5rem;
    border-radius: 4px;
    font-size: 0.7rem;
    font-family: var(--font-code);
    border: 1px solid var(--border);
}

/* ===== PROJECTS ===== */
.projects-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 1.5rem;
}

.project-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 14px;
    overflow: hidden;
    transition: transform var(--transition-fast), border-color var(--transition-fast);
    contain: layout;
}

.project-card:hover {
    transform: translateY(-4px);
    border-color: var(--primary);
}

.project-image {
    position: relative;
    width: 100%;
    aspect-ratio: 16/9;
    background: var(--bg-darker);
    overflow: hidden;
}

.project-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
}

.project-card:hover .project-image img {
    transform: scale(1.03);
}

.project-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2.5rem;
    color: var(--primary);
    opacity: 0.25;
}

.project-overlay {
    position: absolute;
    inset: 0;
    background: rgba(15, 23, 42, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity var(--transition-fast);
}

.project-card:hover .project-overlay { opacity: 1; }

.project-link {
    width: 50px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--gradient-1);
    border-radius: 50%;
    color: white;
    font-size: 1.2rem;
    transform: scale(0.8);
    transition: transform var(--transition-fast);
    text-decoration: none;
}

.project-card:hover .project-link { transform: scale(1); }

.project-content {
    padding: 1.25rem;
}

.project-title {
    font-family: var(--font-code);
    font-size: 1rem;
    color: var(--text-primary);
    margin-bottom: 0.5rem;
    font-weight: 700;
}

.project-description {
    color: var(--text-secondary);
    font-size: 0.85rem;
    line-height: 1.6;
    margin-bottom: 0.75rem;
}

.project-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.4rem;
}

/* ===== CONTACT ===== */
.contact-content {
    display: grid;
    grid-template-columns: 1fr 1.2fr;
    gap: 3rem;
    align-items: start;
}

.contact-info {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.contact-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
}

.contact-icon {
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 10px;
    color: var(--primary);
    font-size: 1.2rem;
    flex-shrink: 0;
}

.contact-label {
    font-family: var(--font-code);
    color: var(--text-muted);
    font-size: 0.8rem;
    margin-bottom: 0.2rem;
}

.contact-value {
    color: var(--text-primary);
    text-decoration: none;
    font-weight: 600;
    transition: color var(--transition-fast);
}

.contact-value:hover { color: var(--primary); }

.contact-form {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.form-input {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 1rem 1.25rem;
    color: var(--text-primary);
    font-family: var(--font-primary);
    font-size: 0.95rem;
    transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
}

.form-input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(192, 132, 252, 0.15);
}

.form-input::placeholder { color: var(--text-muted); }

.form-textarea {
    min-height: 140px;
    resize: vertical;
}

.btn-submit {
    align-self: flex-start;
}

/* ===== FOOTER ===== */
.main-footer {
    background: var(--bg-darker);
    border-top: 1px solid var(--border);
    padding: 2rem 0;
}

.footer-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 8%;
}

.footer-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
}

.footer-text {
    color: var(--text-muted);
    font-size: 0.85rem;
}

.footer-copyright { color: var(--text-secondary); }

.footer-divider {
    margin: 0 0.75rem;
    color: var(--border);
}

.footer-author {
    font-size: 0.8rem;
    color: var(--text-muted);
    margin-top: 0.3rem;
}

.footer-author-link {
    color: var(--primary);
    text-decoration: none;
    font-weight: 600;
    transition: color var(--transition-fast);
}

.footer-author-link:hover { color: var(--cyan); }

.footer-social {
    display: flex;
    gap: 0.75rem;
}

.footer-social-link {
    width: 38px;
    height: 38px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 8px;
    color: var(--text-secondary);
    transition: all var(--transition-fast);
    text-decoration: none;
}

.footer-social-link:hover {
    border-color: var(--primary);
    color: var(--primary);
}

/* ===== RESPONSIVE ===== */
@media (max-width: 1024px) {
    .about-grid {
        grid-template-columns: 1fr;
        gap: 2rem;
    }
    
    .contact-content {
        grid-template-columns: 1fr;
        gap: 2rem;
    }
    
    .hero-section { padding: 5rem 5% 3rem; }
    .section-container { padding: 0 5%; }
}

@media (max-width: 768px) {
    .nav-menu {
        position: fixed;
        top: 0;
        right: -100%;
        width: 70%;
        max-width: 300px;
        height: 100vh;
        background: var(--bg-darker);
        flex-direction: column;
        padding: 5rem 2rem 2rem;
        gap: 0.5rem;
        transition: right 0.3s ease;
        border-left: 1px solid var(--border);
        z-index: 999;
    }
    
    .nav-menu.active { right: 0; }
    
    .nav-link {
        width: 100%;
        padding: 1rem;
        border-radius: 8px;
    }
    
    .nav-link:hover { background: var(--bg-card); }
    
    .menu-toggle { display: flex; }
    
    .hero-section { min-height: auto; padding: 6rem 5% 3rem; }
    
    .about-stats {
        grid-template-columns: 1fr 1fr;
    }
    
    .code-block {
        font-size: 0.7rem;
        padding: 1rem;
    }
    
    .projects-grid, .games-grid {
        grid-template-columns: 1fr;
    }
    
    .footer-content {
        flex-direction: column;
        gap: 1.5rem;
        text-align: center;
    }
    
    /* Reduce animations on mobile for performance */
    .particle { display: none; }
    .code-grid-bg { display: none; }
    
    @media (prefers-reduced-motion: reduce) {
        *, *::before, *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
        }
    }
}

/* ===== RESPONSIVE - SMALL MOBILE ===== */
@media (max-width: 480px) {
    .nav-container { padding: 0.75rem 1rem; }
    .section-container { padding: 0 1rem; }
    
    .hero-buttons {
        flex-direction: column;
        width: 100%;
    }
    
    .btn { width: 100%; justify-content: center; }
    
    .hero-social { flex-wrap: wrap; justify-content: center; }
    
    .skill-category { padding: 1.25rem; }
    
    .timeline { padding-left: 1rem; }
    .timeline-item { padding-left: 2rem; }
    .timeline-marker { left: -1.5rem; }
    .timeline-content { padding: 1.25rem; }
    
    .games-grid {
        grid-template-columns: 1fr;
    }
    
    .game-card {
        max-width: 100%;
    }
}

/* ===== ACCESSIBILITY ===== */
@media (prefers-reduced-motion: reduce) {
    html { scroll-behavior: auto; }
    
    *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
    
    .skill-progress { transition: none; }
}

/* Focus styles for accessibility */
:focus-visible {
    outline: 2px solid var(--primary);
    outline-offset: 2px;
}

/* Print styles */
@media print {
    .main-header, .loader-screen, .floating-badge, .scroll-indicator { display: none; }
    .main-content { margin-top: 0; }
    body { background: white; color: black; }
}
    </style>
</head>
<body data-theme="dark" data-lang="en">
    
    <!-- Loading Screen - Reduced animation time -->
    <div class="loader-screen" id="loader" aria-label="Loading">
        <div class="loader-content">
            <div class="loader-code-text">
                <div class="code-line">const portfolio = {</div>
                <div class="code-line">  loading: true,</div>
                <div class="code-line">  developer: 'William Sham'</div>
                <div class="code-line">};</div>
            </div>
            <div class="loader-spinner" role="status" aria-label="Loading"></div>
            <div class="loader-progress-wrapper"><div class="loader-progress-bar"></div></div>
            <div class="loader-percentage" id="loaderPercent">0%</div>
        </div>
    </div>

    <!-- Navigation -->
    <header class="main-header" id="header">
        <nav class="nav-container" role="navigation" aria-label="Main navigation">
            <a href="#home" class="brand-logo" aria-label="William Sham - Home">
                <span class="logo-bracket" aria-hidden="true">&lt;</span>
                <span class="logo-text">WS</span>
                <span class="logo-bracket" aria-hidden="true">/&gt;</span>
            </a>
            <div class="nav-menu" id="navMenu" role="menubar">
                <a href="#home" class="nav-link active" role="menuitem"><i class="fas fa-home" aria-hidden="true"></i><span data-text-en="Home" data-text-af="Tuis">Home</span></a>
                <a href="#about" class="nav-link" role="menuitem"><i class="fas fa-user" aria-hidden="true"></i><span data-text-en="About" data-text-af="Oor My">About</span></a>
                <a href="#skills" class="nav-link" role="menuitem"><i class="fas fa-code" aria-hidden="true"></i><span data-text-en="Skills" data-text-af="Vaardighede">Skills</span></a>
                <a href="#experience" class="nav-link" role="menuitem"><i class="fas fa-briefcase" aria-hidden="true"></i><span data-text-en="Experience" data-text-af="Ervaring">Experience</span></a>
                <a href="#games" class="nav-link" role="menuitem"><i class="fas fa-gamepad" aria-hidden="true"></i><span data-text-en="Games" data-text-af="Speletjies">Games</span></a>
                <a href="#projects" class="nav-link" role="menuitem"><i class="fas fa-rocket" aria-hidden="true"></i><span data-text-en="Projects" data-text-af="Projekte">Projects</span></a>
                <a href="#contact" class="nav-link" role="menuitem"><i class="fas fa-envelope" aria-hidden="true"></i><span data-text-en="Contact" data-text-af="Kontak">Contact</span></a>
            </div>
            <div class="nav-controls">
                <button class="lang-toggle" id="langToggle" aria-label="Switch language"><i class="fas fa-language" aria-hidden="true"></i><span class="lang-text">AF</span></button>
                <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme"><i class="fas fa-moon" aria-hidden="true"></i></button>
                <button class="menu-toggle" id="menuToggle" aria-label="Toggle menu" aria-expanded="false"><span></span><span></span><span></span></button>
            </div>
        </nav>
    </header>

    <main class="main-content" id="main-content">
        <!-- Hero Section -->
        <section id="home" class="hero-section" aria-labelledby="hero-title">
            <div class="hero-background">
                <div class="code-grid-bg" aria-hidden="true"></div>
                <div class="floating-particles" id="particles" aria-hidden="true"></div>
            </div>
            <div class="hero-container">
                <div class="hero-content">
                    <div class="hero-greeting">
                        <span data-text-en="Hello, I'm" data-text-af="Hallo, ek is">Hello, I'm</span>
                        <span class="greeting-cursor" aria-hidden="true">|</span>
                    </div>
                    <h1 class="hero-name" id="hero-title">
                        <span class="name-prefix">const</span>
                        <span class="name-operator">=</span>
                        <span class="name-value">William Sham</span>
                        <span class="name-suffix">;</span>
                    </h1>
                    <div class="hero-title">
                        <span class="title-prefix" aria-hidden="true">//</span>
                        <span data-text-en="Full Stack Web Developer" data-text-af="Full Stack Web Ontwikkelaar">Full Stack Web Developer</span>
                    </div>
                    <p class="hero-description" data-text-en="I turn ideas into code and code into solutions. Full-stack web developer with a love for clean design, intuitive user experiences, and making things work behind the scenes." data-text-af="Ek verander idees in kode en kode in oplossings. Full-stack webontwikkelaar met 'n liefde vir skoon ontwerp, intuïtiewe gebruikerservarings, en om dinge agter die skerms te laat werk.">
                        I turn ideas into code and code into solutions. Full-stack web developer with a love for clean design, intuitive user experiences, and making things work behind the scenes.
                    </p>
                    <div class="hero-buttons">
                        <a href="#contact" class="btn btn-primary"><span data-text-en="Get In Touch" data-text-af="Kontak My">Get In Touch</span><i class="fas fa-arrow-right" aria-hidden="true"></i></a>
                        <a href="#projects" class="btn btn-secondary"><span data-text-en="View Projects" data-text-af="Bekyk Projekte">View Projects</span><i class="fas fa-code" aria-hidden="true"></i></a>
                    </div>
                    <div class="hero-social">
                        <a href="https://github.com/WilliamSham90" target="_blank" rel="noopener noreferrer" class="social-icon" aria-label="GitHub Profile"><i class="fab fa-github"></i></a>
                        <a href="https://www.linkedin.com/in/william-sham-0a1a12211/" target="_blank" rel="noopener noreferrer" class="social-icon" aria-label="LinkedIn Profile"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://steamcommunity.com/sharedfiles/filedetails/?id=3234555216&searchtext=crash" target="_blank" rel="noopener noreferrer" class="social-icon" aria-label="Steam Profile"><i class="fab fa-steam"></i></a>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="section" aria-labelledby="about-title">
            <div class="section-container">
                <div class="section-header">
                    <span class="section-number" aria-hidden="true">01</span>
                    <h2 class="section-title" id="about-title"><span class="title-bracket" aria-hidden="true">&lt;</span><span class="title-text" data-text-en="About" data-text-af="Oor My">About</span><span class="title-bracket" aria-hidden="true">/&gt;</span></h2>
                    <div class="section-line" aria-hidden="true"></div>
                </div>
                <div class="about-grid">
                    <div class="about-text">
                        <p data-text-en="Hi, I'm William — a passionate full-stack developer who thrives at the intersection of creativity and code. With experience spanning multiple industries, I've learned that the best solutions come from understanding both the technical requirements and the human experience." data-text-af="Hallo, ek is William — 'n passievolle full-stack ontwikkelaar wat floreer by die kruispunt van kreatiwiteit en kode. Met ervaring oor verskeie industrieë het ek geleer dat die beste oplossings kom van die verstaan van beide die tegniese vereistes en die menslike ervaring.">
                            Hi, I'm William — a passionate full-stack developer who thrives at the intersection of creativity and code. With experience spanning multiple industries, I've learned that the best solutions come from understanding both the technical requirements and the human experience.
                        </p>
                        <p data-text-en="My journey in tech has equipped me with a versatile skill set: from crafting pixel-perfect frontends with modern JavaScript frameworks to designing robust backend systems. When I'm not coding, you'll find me exploring 3D modeling, game development, or diving into the latest tech trends." data-text-af="My reis in tegnologie het my toegerus met 'n veelsydige vaardigheidstel: van die skep van pixel-perfekte frontends met moderne JavaScript-raamwerke tot die ontwerp van robuuste backend-stelsels. Wanneer ek nie kodeer nie, sal jy my vind wat 3D-modellering, spelontwikkeling verken, of in die nuutste tegnologie-neigings duik.">
                            My journey in tech has equipped me with a versatile skill set: from crafting pixel-perfect frontends with modern JavaScript frameworks to designing robust backend systems. When I'm not coding, you'll find me exploring 3D modeling, game development, or diving into the latest tech trends.
                        </p>
                        <div class="about-stats">
                            <div class="stat-item"><span class="stat-number" data-count="4">0</span><span class="stat-label" data-text-en="Years Experience" data-text-af="Jaar Ervaring">Years Experience</span></div>
                            <div class="stat-item"><span class="stat-number" data-count="50">0</span><span class="stat-label" data-text-en="Projects Completed" data-text-af="Projekte Voltooi">Projects Completed</span></div>
                            <div class="stat-item"><span class="stat-number" data-count="30">0</span><span class="stat-label" data-text-en="Technologies" data-text-af="Tegnologieë">Technologies</span></div>
                            <div class="stat-item"><span class="stat-number" data-count="100">0</span><span class="stat-label" data-text-en="Commits This Year" data-text-af="Commits Hierdie Jaar">Commits This Year</span></div>
                        </div>
                    </div>
                    <div class="code-block" aria-label="Developer profile code">
                        <div class="code-line"><span class="code-keyword">const</span> <span class="code-variable">developer</span> <span class="code-operator">=</span> <span class="code-brace">{</span></div>
                        <div class="code-line indent"><span class="code-property">name</span><span class="code-operator">:</span> <span class="code-string">'William Sham'</span><span class="code-comma">,</span></div>
                        <div class="code-line indent"><span class="code-property">role</span><span class="code-operator">:</span> <span class="code-string">'Full Stack Developer'</span><span class="code-comma">,</span></div>
                        <div class="code-line indent"><span class="code-property">location</span><span class="code-operator">:</span> <span class="code-string">'South Africa'</span><span class="code-comma">,</span></div>
                        <div class="code-line indent"><span class="code-property">skills</span><span class="code-operator">:</span> <span class="code-bracket">[</span></div>
                        <div class="code-line indent-2"><span class="code-string">'JavaScript'</span><span class="code-comma">,</span> <span class="code-string">'React'</span><span class="code-comma">,</span> <span class="code-string">'Vue.js'</span><span class="code-comma">,</span></div>
                        <div class="code-line indent-2"><span class="code-string">'PHP'</span><span class="code-comma">,</span> <span class="code-string">'C#'</span><span class="code-comma">,</span> <span class="code-string">'ASP.NET'</span><span class="code-comma">,</span> <span class="code-string">'Java'</span><span class="code-comma">,</span> <span class="code-string">'C++'</span><span class="code-comma">,</span></div>
                        <div class="code-line indent-2"><span class="code-string">'SQL'</span><span class="code-comma">,</span> <span class="code-string">'Microsoft Azure'</span><span class="code-comma">,</span> <span class="code-string">'Azure DevOps'</span><span class="code-comma">,</span> <span class="code-comma">,</span></div>
                        <div class="code-line indent-2"><span class="code-string">'Git'</span><span class="code-comma">,</span> <span class="code-string">'Unreal Engine 4'</span><span class="code-comma">,</span> <span class="code-string">'Unity'</span><span class="code-comma">,</span> <span class="code-string">'Radiant'</span><span class="code-comma">,</span></div>
                        <div class="code-line indent-2"><span class="code-string">'WordPress'</span><span class="code-comma">,</span> <span class="code-string">'Shopify'</span><span class="code-comma">,</span> <span class="code-string">'Wix'</span><span class="code-comma">,</span> <span class="code-string">'Webflow'</span><span class="code-comma">,</span></div>
                        <div class="code-line indent-2"><span class="code-string">'Laravel Framework'</span><span class="code-comma">,</span> <span class="code-string">'Perfex CRM'</span><span class="code-comma">,</span> <span class="code-string">'Umbraco'</span><span class="code-comma">,</span></div>
                        <div class="code-line indent-2"><span class="code-string">'Adobe Photoshop'</span><span class="code-comma">,</span> <span class="code-string">'Figma'</span><span class="code-comma">,</span> <span class="code-string">'Blender'</span><span class="code-comma">,</span> <span class="code-string">'Maya'</span><span class="code-comma">,</span></div>
                        <div class="code-line indent-2"><span class="code-string">'SEO'</span><span class="code-comma">,</span> <span class="code-string">'Google Search Console'</span><span class="code-comma">,</span> <span class="code-string">'Canva'</span><span class="code-comma">,</span> <span class="code-string">'Spline'</span><span class="code-comma">,</span></div>
                        <div class="code-line indent"><span class="code-bracket">]</span><span class="code-comma">,</span></div>

                        <div class="code-line indent"><span class="code-property">passion</span><span class="code-operator">:</span> <span class="code-bracket">[</span><span class="code-string">'Websites'</span><span class="code-comma">,</span> <span class="code-string">'Digital Art'</span><span class="code-comma">,</span> <span class="code-string">'3D Models'</span><span class="code-comma">,</span></div>
                        <div class="code-line indent-2"><span class="code-string">'Game Design'</span><span class="code-comma">,</span> <span class="code-string">'Creating Solutions'</span></div>
                        <div class="code-line indent"><span class="code-bracket">]</span></div><div class="code-line"><span class="code-brace">}</span><span class="code-semicolon">;</span></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Skills Section -->
        <section id="skills" class="section" aria-labelledby="skills-title">
            <div class="section-container">
                <div class="section-header">
                    <span class="section-number" aria-hidden="true">02</span>
                    <h2 class="section-title" id="skills-title"><span class="title-bracket" aria-hidden="true">&lt;</span><span class="title-text" data-text-en="Skills" data-text-af="Vaardighede">Skills</span><span class="title-bracket" aria-hidden="true">/&gt;</span></h2>
                    <div class="section-line" aria-hidden="true"></div>
                </div>
                <div class="skills-grid">
                    <div class="skill-category">
                        <h3 class="category-title" data-text-en="Frontend" data-text-af="Voorkant">Frontend</h3>
                        <div class="skill-items">
                            <div class="skill-item" data-percent="90"><div class="skill-header"><span class="skill-name">JavaScript</span><span class="skill-percent">0%</span></div><div class="skill-bar"><div class="skill-progress"></div></div></div>
                            <div class="skill-item" data-percent="85"><div class="skill-header"><span class="skill-name">React.js</span><span class="skill-percent">0%</span></div><div class="skill-bar"><div class="skill-progress"></div></div></div>
                            <div class="skill-item" data-percent="95"><div class="skill-header"><span class="skill-name">HTML / CSS</span><span class="skill-percent">0%</span></div><div class="skill-bar"><div class="skill-progress"></div></div></div>
                            <div class="skill-item" data-percent="90"><div class="skill-header"><span class="skill-name">WordPress / Shopify</span><span class="skill-percent">0%</span></div><div class="skill-bar"><div class="skill-progress"></div></div></div>
                        </div>
                    </div>
                    <div class="skill-category">
                        <h3 class="category-title" data-text-en="Backend" data-text-af="Agterkant">Backend</h3>
                        <div class="skill-items">
                            <div class="skill-item" data-percent="90"><div class="skill-header"><span class="skill-name">PHP / Laravel</span><span class="skill-percent">0%</span></div><div class="skill-bar"><div class="skill-progress"></div></div></div>
                            <div class="skill-item" data-percent="80"><div class="skill-header"><span class="skill-name">C# / ASP.NET</span><span class="skill-percent">0%</span></div><div class="skill-bar"><div class="skill-progress"></div></div></div>
                            <div class="skill-item" data-percent="85"><div class="skill-header"><span class="skill-name">SQL / Database</span><span class="skill-percent">0%</span></div><div class="skill-bar"><div class="skill-progress"></div></div></div>
                            <div class="skill-item" data-percent="75"><div class="skill-header"><span class="skill-name">Java / C++</span><span class="skill-percent">0%</span></div><div class="skill-bar"><div class="skill-progress"></div></div></div>
                        </div>
                    </div>
                    <div class="skill-category">
                        <h3 class="category-title" data-text-en="Cloud & DevOps" data-text-af="Wolk & DevOps">Cloud & DevOps</h3>
                        <div class="skill-items">
                            <div class="skill-item" data-percent="85"><div class="skill-header"><span class="skill-name">Microsoft Azure</span><span class="skill-percent">0%</span></div><div class="skill-bar"><div class="skill-progress"></div></div></div>
                            <div class="skill-item" data-percent="80"><div class="skill-header"><span class="skill-name">Azure DevOps</span><span class="skill-percent">0%</span></div><div class="skill-bar"><div class="skill-progress"></div></div></div>
                            <div class="skill-item" data-percent="90"><div class="skill-header"><span class="skill-name">Git Version Control</span><span class="skill-percent">0%</span></div><div class="skill-bar"><div class="skill-progress"></div></div></div>
                            <div class="skill-item" data-percent="75"><div class="skill-header"><span class="skill-name">Google Cloud</span><span class="skill-percent">0%</span></div><div class="skill-bar"><div class="skill-progress"></div></div></div>
                        </div>
                    </div>
                    <div class="skill-category">
                        <h3 class="category-title" data-text-en="Design & Tools" data-text-af="Ontwerp & Gereedskap">Design & Tools</h3>
                        <div class="skill-items">
                            <div class="skill-item" data-percent="85"><div class="skill-header"><span class="skill-name">Figma / UI Design</span><span class="skill-percent">0%</span></div><div class="skill-bar"><div class="skill-progress"></div></div></div>
                            <div class="skill-item" data-percent="80"><div class="skill-header"><span class="skill-name">Adobe Photoshop</span><span class="skill-percent">0%</span></div><div class="skill-bar"><div class="skill-progress"></div></div></div>
                            <div class="skill-item" data-percent="70"><div class="skill-header"><span class="skill-name">Blender / Maya</span><span class="skill-percent">0%</span></div><div class="skill-bar"><div class="skill-progress"></div></div></div>
                            <div class="skill-item" data-percent="75"><div class="skill-header"><span class="skill-name">Unreal / Unity</span><span class="skill-percent">0%</span></div><div class="skill-bar"><div class="skill-progress"></div></div></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Experience Section -->
        <section id="experience" class="section" aria-labelledby="experience-title">
            <div class="section-container">
                <div class="section-header">
                    <span class="section-number" aria-hidden="true">03</span>
                    <h2 class="section-title" id="experience-title"><span class="title-bracket" aria-hidden="true">&lt;</span><span class="title-text" data-text-en="Experience" data-text-af="Ervaring">Experience</span><span class="title-bracket" aria-hidden="true">/&gt;</span></h2>
                    <div class="section-line" aria-hidden="true"></div>
                </div>
                <div class="timeline">
                    <article class="timeline-item">
                        <div class="timeline-marker" aria-hidden="true"></div>
                        <div class="timeline-content">
                            <div class="timeline-header"><div class="timeline-year">Sept 2024 - <span data-text-en="Present" data-text-af="Huidig">Present</span></div><div class="timeline-badge" data-text-en="Current" data-text-af="Huidig">Current</div></div>
                            <h3 class="timeline-title" data-text-en="Senior Web Developer" data-text-af="Senior Web Ontwikkelaar">Senior Web Developer</h3>
                            <div class="timeline-company"><i class="fas fa-building" aria-hidden="true"></i>LKDA - Strategic Creative Advertising, Pretoria</div>
                            <p class="timeline-description" data-text-en="Lead full-stack website development and maintenance, server infrastructure management, and UI/UX development." data-text-af="Lei full-stack webwerfontwikkeling en -instandhouding, bedienerinfrastruktuurbestuur, en UI/UX-ontwikkeling.">Lead full-stack website development and maintenance, server infrastructure management, and UI/UX development.</p>
                            <div class="timeline-achievements">
                                <div class="achievement-item"><i class="fas fa-check-circle" aria-hidden="true"></i><span data-text-en="Led transformation of LKDA's global digital library application" data-text-af="Gelei transformasie van LKDA se wêreldwye digitale biblioteektoepassing">Led transformation of LKDA's global digital library application</span></div>
                                <div class="achievement-item"><i class="fas fa-check-circle" aria-hidden="true"></i><span data-text-en="Optimized Nissan SA website, reducing load time by 5 seconds" data-text-af="Nissan SA-webwerf geoptimaliseer, laaityd met 5 sekondes verminder">Optimized Nissan SA website, reducing load time by 5 seconds</span></div>
                                <div class="achievement-item"><i class="fas fa-check-circle" aria-hidden="true"></i><span data-text-en="Created multi-database connector plugin" data-text-af="Multi-databasis-koppelaar-inprop geskep">Created multi-database connector plugin</span></div>
                            </div>
                            <div class="timeline-tags"><span class="tag">PHP</span><span class="tag">Laravel</span><span class="tag">JavaScript</span><span class="tag">WordPress</span><span class="tag">Shopify</span><span class="tag">Azure</span></div>
                        </div>
                    </article>
                    <article class="timeline-item">
                        <div class="timeline-marker" aria-hidden="true"></div>
                        <div class="timeline-content">
                            <div class="timeline-header"><div class="timeline-year">Mar 2023 - Aug 2024</div></div>
                            <h3 class="timeline-title" data-text-en="Web Developer" data-text-af="Web Ontwikkelaar">Web Developer</h3>
                            <div class="timeline-company"><i class="fas fa-building" aria-hidden="true"></i>Silverstone Group, Centurion</div>
                            <p class="timeline-description" data-text-en="Full-stack web development, Perfex CRM modules, business solutions development, and e-commerce platform creation." data-text-af="Full-stack webontwikkeling, Perfex CRM-modules, besigheidsoplossings-ontwikkeling, en e-handelsplatform-skepping.">Full-stack web development, Perfex CRM modules, business solutions development, and e-commerce platform creation.</p>
                            <div class="timeline-achievements">
                                <div class="achievement-item"><i class="fas fa-check-circle" aria-hidden="true"></i><span data-text-en="Developed 15+ custom Perfex CRM modules" data-text-af="15+ pasgemaakte Perfex CRM-modules ontwikkel">Developed 15+ custom Perfex CRM modules</span></div>
                                <div class="achievement-item"><i class="fas fa-check-circle" aria-hidden="true"></i><span data-text-en="Built WhatsApp chatbot integration" data-text-af="WhatsApp-kletsbotintegrasie gebou">Built WhatsApp chatbot integration</span></div>
                            </div>
                            <div class="timeline-tags"><span class="tag">PHP</span><span class="tag">JavaScript</span><span class="tag">Perfex CRM</span><span class="tag">MySQL</span></div>
                        </div>
                    </article>
                    <article class="timeline-item">
                        <div class="timeline-marker" aria-hidden="true"></div>
                        <div class="timeline-content">
                            <div class="timeline-header"><div class="timeline-year">2021 - 2022</div></div>
                            <h3 class="timeline-title" data-text-en="Freelance Developer" data-text-af="Vryskut Ontwikkelaar">Freelance Developer</h3>
                            <div class="timeline-company"><i class="fas fa-laptop-house" aria-hidden="true"></i><span data-text-en="Self-Employed" data-text-af="Selfstandig">Self-Employed</span></div>
                            <p class="timeline-description" data-text-en="Built custom websites and web applications for various clients. Focused on WordPress development, custom themes, and e-commerce solutions." data-text-af="Pasgemaakte webwerwe en webtoepassings vir verskeie kliënte gebou. Gefokus op WordPress-ontwikkeling, pasgemaakte temas, en e-handelsoplossings.">Built custom websites and web applications for various clients. Focused on WordPress development, custom themes, and e-commerce solutions.</p>
                            <div class="timeline-tags"><span class="tag">WordPress</span><span class="tag">WooCommerce</span><span class="tag">PHP</span><span class="tag">JavaScript</span></div>
                        </div>
                    </article>
                </div>
            </div>
        </section>

        <!-- Games Section -->
        <section id="games" class="section" aria-labelledby="games-title">
            <div class="section-container">
                <div class="section-header">
                    <span class="section-number" aria-hidden="true">04</span>
                    <h2 class="section-title" id="games-title"><span class="title-bracket" aria-hidden="true">&lt;</span><span class="title-text" data-text-en="Games" data-text-af="Speletjies">Games</span><span class="title-bracket" aria-hidden="true">/&gt;</span></h2>
                    <div class="section-line" aria-hidden="true"></div>
                </div>
                <div class="games-grid" id="games-grid">
                    <!-- Games will be loaded dynamically -->
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="section" aria-labelledby="projects-title">
            <div class="section-container">
                <div class="section-header">
                    <span class="section-number" aria-hidden="true">05</span>
                    <h2 class="section-title" id="projects-title"><span class="title-bracket" aria-hidden="true">&lt;</span><span class="title-text" data-text-en="Projects" data-text-af="Projekte">Projects</span><span class="title-bracket" aria-hidden="true">/&gt;</span></h2>
                    <div class="section-line" aria-hidden="true"></div>
                </div>
                <div class="projects-grid" id="projects-grid">
                    <!-- Projects will be loaded dynamically for better performance -->
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="section" aria-labelledby="contact-title">
            <div class="section-container">
                <div class="section-header">
                    <span class="section-number" aria-hidden="true">06</span>
                    <h2 class="section-title" id="contact-title"><span class="title-bracket" aria-hidden="true">&lt;</span><span class="title-text" data-text-en="Contact" data-text-af="Kontak">Contact</span><span class="title-bracket" aria-hidden="true">/&gt;</span></h2>
                    <div class="section-line" aria-hidden="true"></div>
                </div>
                <div class="contact-content">
                    <div class="contact-info">
                        <div class="contact-item"><div class="contact-icon"><i class="fas fa-envelope" aria-hidden="true"></i></div><div><h4 class="contact-label" data-text-en="Email" data-text-af="E-pos">Email</h4><a href="mailto:williamsham90@gmail.com" class="contact-value">williamsham90@gmail.com</a></div></div>
                        <div class="contact-item"><div class="contact-icon"><i class="fas fa-phone" aria-hidden="true"></i></div><div><h4 class="contact-label" data-text-en="Phone" data-text-af="Telefoon">Phone</h4><a href="tel:+27817238996" class="contact-value">+27 81 723 8996</a></div></div>
                        <div class="contact-item"><div class="contact-icon"><i class="fas fa-map-marker-alt" aria-hidden="true"></i></div><div><h4 class="contact-label" data-text-en="Location" data-text-af="Ligging">Location</h4><span class="contact-value" data-text-en="Krugersdorp, Gauteng, South Africa" data-text-af="Krugersdorp, Gauteng, Suid-Afrika">Krugersdorp, Gauteng, South Africa</span></div></div>
                    </div>
                    <form class="contact-form" id="contactForm" action="https://formsubmit.co/williamsham90@gmail.com" method="POST">
                        <input type="hidden" name="_subject" value="New Portfolio Contact Message">
                        <input type="hidden" name="_captcha" value="false">
                        <input type="text" name="name" class="form-input" placeholder="Name" data-placeholder-en="Name" data-placeholder-af="Naam" required autocomplete="name">
                        <input type="email" name="email" class="form-input" placeholder="Email" data-placeholder-en="Email" data-placeholder-af="E-pos" required autocomplete="email">
                        <input type="text" name="subject" class="form-input" placeholder="Subject" data-placeholder-en="Subject" data-placeholder-af="Onderwerp" required>
                        <textarea name="message" class="form-input form-textarea" placeholder="Message" data-placeholder-en="Message" data-placeholder-af="Boodskap" required></textarea>
                        <button type="submit" class="btn btn-primary btn-submit"><span data-text-en="Send Message" data-text-af="Stuur Boodskap">Send Message</span><i class="fas fa-paper-plane" aria-hidden="true"></i></button>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="footer-container">
            <div class="footer-content">
                <div>
                    <p class="footer-text"><span class="footer-copyright">© 2026 Developer Portfolio</span><span class="footer-divider" aria-hidden="true">•</span><span data-text-en="Built with passion and code" data-text-af="Gebou met passie en kode">Built with passion and code</span></p>
                    <p class="footer-author"><span data-text-en="by" data-text-af="deur">by</span> <a href="https://www.linkedin.com/in/william-sham-0a1a12211/" target="_blank" rel="noopener noreferrer" class="footer-author-link"><i class="fas fa-code" aria-hidden="true"></i> William</a></p>
                </div>
                <div class="footer-social">
                    <a href="https://www.linkedin.com/in/william-sham-0a1a12211/" target="_blank" rel="noopener noreferrer" class="footer-social-link" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    <a href="https://github.com/WilliamSham90" target="_blank" rel="noopener noreferrer" class="footer-social-link" aria-label="GitHub"><i class="fab fa-github"></i></a>
                    <a href="https://steamcommunity.com/sharedfiles/filedetails/?id=3234555216&searchtext=crash" target="_blank" rel="noopener noreferrer" class="footer-social-link" aria-label="Steam"><i class="fab fa-steam"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Optimized JavaScript -->
    <script>
// ===== APP STATE =====
const App = {
    state: {
        lang: localStorage.getItem('portfolio-lang') || 'en',
        theme: localStorage.getItem('portfolio-theme') || 'dark',
        menuOpen: false,
        loaded: false
    },
    
    // Games data
    games: [
        { 
            id: 'minesweeper',
            title: 'Minesweeper', 
            file: 'minesweeper.html',
            icon: 'fas fa-bomb',
            tags: ['Puzzle', 'Classic', 'JavaScript'],
            descEn: 'Classic minesweeper game with multiple difficulty levels',
            descAf: 'Klassieke mynveer-speletjie met verskeie moeilikheidsgrade'
        },
        { 
            id: 'platformer',
            title: 'Platformer', 
            file: 'platformer.html',
            icon: 'fas fa-running',
            tags: ['Action', 'Platform', 'Canvas'],
            descEn: 'Side-scrolling platformer with challenging obstacles',
            descAf: 'Sy-rollende platform met uitdagende hindernisse'
        },
        { 
            id: 'pong',
            title: 'Pong', 
            file: 'pong.html',
            icon: 'fas fa-table-tennis',
            tags: ['Arcade', 'Classic', 'Multiplayer'],
            descEn: 'The classic arcade game - play against AI or a friend',
            descAf: 'Die klassieke arcade-speletjie - speel teen AI of \'n vriend'
        },
        { 
            id: 'snake',
            title: 'Snake Game', 
            file: 'snake_game.html',
            icon: 'fas fa-worm',
            tags: ['Arcade', 'Classic', 'JavaScript'],
            descEn: 'Guide the snake to eat and grow without hitting walls',
            descAf: 'Lei die slang om te eet en te groei sonder om mure te tref'
        },
        { 
            id: 'tower',
            title: 'Tower Blocks', 
            file: 'tower_blocks.html',
            icon: 'fas fa-cubes',
            tags: ['Puzzle', 'Stacking', 'Skill'],
            descEn: 'Stack blocks as high as you can - precision required!',
            descAf: 'Stapel blokke so hoog as moontlik - presisie vereis!'
        },
        { 
            id: 'wordguess',
            title: 'Word Guess', 
            file: 'word_guess.html',
            icon: 'fas fa-spell-check',
            tags: ['Word', 'Puzzle', 'Brain'],
            descEn: 'Guess the hidden word before running out of attempts',
            descAf: 'Raai die verborge woord voordat pogings opraak'
        }
    ],
    
    // Project data for lazy loading
    projects: [
        { title: 'LKDA - Strategic Creative Advertising', img: 'Lkda.png', url: 'https://www.lkda.co.za/', tags: ['Laravel', 'Umbraco', 'CMS'], descEn: 'Creative advertising agency website', descAf: 'Kreatiewe advertensie-agentskap webwerf' },
        { title: 'Nissan SA', img: 'NissanSA.png', url: 'https://www.nissan.co.za/', tags: ['WordPress', 'PHP', 'SEO'], descEn: 'Official Nissan South Africa website', descAf: 'Amptelike Nissan Suid-Afrika webwerf' },
        { title: 'Nissan Angola', img: 'NissanAngola.png', url: 'https://www.nissan.co.ao/', tags: ['WordPress', 'PHP'], descEn: 'Official Nissan Angola website', descAf: 'Amptelike Nissan Angola webwerf' },
        { title: 'Nissan Uganda', img: 'NissanUganda.png', url: 'https://www.nissan.co.ug/', tags: ['WordPress', 'PHP'], descEn: 'Official Nissan Uganda website', descAf: 'Amptelike Nissan Uganda webwerf' },
        { title: 'Afrit', img: 'afrit.png', url: 'https://afrit.co.za/', tags: ['WordPress', 'PHP'], descEn: 'Trailer manufacturing company website', descAf: 'Sleepwa-vervaardigingsmaatskappy webwerf' },
        { title: 'Safal Steel', img: 'Safalsteel.png', url: 'https://www.safalsteel.com/', tags: ['WordPress', 'PHP'], descEn: 'Steel manufacturing company website', descAf: 'Staalvervaardigingsmaatskappy webwerf' },
        { title: 'Mega Master SA', img: 'Megamaster.png', url: 'https://megamaster.co.za/', tags: ['WordPress', 'E-commerce'], descEn: 'BBQ and outdoor products e-commerce', descAf: 'Braai en buite-produkte e-handel' },
        { title: 'First 4 Men', img: 'First4Men.png', url: 'https://first4men.co.za/', tags: ['WordPress', 'PHP'], descEn: 'Men\'s health and wellness website', descAf: 'Mans gesondheid en welstand webwerf' },
        { title: 'Gridcontrol', img: 'Gridcontroll.png', url: 'https://www.gridcontrol.co.za/', tags: ['WordPress', 'PHP'], descEn: 'Power solutions company website', descAf: 'Kragoplossings maatskappy webwerf' },
        { title: 'Blueasset group', img: 'Blueasset.png', url: 'https://blueassetgroup.com/za', tags: ['WordPress', 'PHP'], descEn: 'Asset management company website', descAf: 'Batebestuur maatskappy webwerf' },
        { title: 'Pinaroch', img: 'Pinaroch.png', url: 'https://pinaroch.co.za/', tags: ['Laravel', 'PHP', 'Middleware'], descEn: 'Construction company website', descAf: 'Konstruksiemaatskappy webwerf' },
        { title: 'MyBuildings Africa', img: 'My%20buildings%20africa.png', url: 'https://mybuildingsafrica.com/', tags: ['Laravel', 'CMS'], descEn: 'Property management platform', descAf: 'Eiendomsbestuur platform' },
        { title: 'myBuildings EMEA', img: 'My%20buildings%20emea.png', url: 'https://mybuildingsemea.com/', tags: ['Laravel', 'CMS'], descEn: 'Property management platform EMEA', descAf: 'Eiendomsbestuur platform EMEA' },
        { title: 'Chery', img: 'cherry%20South%20africa.png', url: 'https://www.chery.co.za/', tags: ['WordPress', 'PHP'], descEn: 'Official Chery South Africa website', descAf: 'Amptelike Chery Suid-Afrika webwerf' },
        { title: 'Goscor', img: 'Goscor%20group.png', url: 'https://goscor.co.za/', tags: ['WordPress', 'Multi-site'], descEn: 'Industrial equipment group website', descAf: 'Industriële toerusting groep webwerf' },
        { title: 'Goscor Earth Moving', img: 'Goscor%20earth%20moving.png', url: 'https://www.goscorearthmoving.co.za/', tags: ['WordPress', 'PHP'], descEn: 'Earth moving equipment website', descAf: 'Grondverskuiwingstoerusting webwerf' },
        { title: 'Goscor Lift Trucks', img: 'Goscor%20lift%20trucks.png', url: 'https://goscorlifttrucks.co.za/', tags: ['WordPress', 'PHP'], descEn: 'Forklift solutions website', descAf: 'Vurkhyser oplossings webwerf' },
        { title: 'Goscor Compressed Air', img: 'Goscor%20compressed%20air.png', url: 'https://www.goscorcompressedair.co.za/', tags: ['WordPress', 'PHP'], descEn: 'Compressed air solutions website', descAf: 'Saamgeperste lug oplossings webwerf' },
        { title: 'Goscor Cleaning', img: 'Goscor%20cleaning.png', url: 'https://goscorcleaning.co.za/', tags: ['WordPress', 'PHP'], descEn: 'Industrial cleaning equipment website', descAf: 'Industriële skoonmaaktoerusting webwerf' },
        { title: 'CTU Training', img: 'CTU%20training.png', url: 'https://ctutraining.ac.za/', tags: ['WordPress', 'Education'], descEn: 'IT training institution website', descAf: 'IT-opleidingsinstelling webwerf' },
        { title: 'HEX', img: 'Hex.png', url: 'https://hexintegratedsolutions.com/', tags: ['WordPress', 'PHP'], descEn: 'Integrated solutions company website', descAf: 'Geïntegreerde oplossings maatskappy webwerf' },
        { title: '3D Lazer Monkey', img: '3D%20lasermonkey.png', url: 'https://3dlasermonkey.co.za/', tags: ['WordPress', '3D'], descEn: '3D printing and laser cutting services', descAf: '3D-druk en lasersnydienste' },
        { title: 'Real Box', img: 'Realbox.png', url: 'https://realbox.co.za/', tags: ['WordPress', 'PHP'], descEn: 'Container solutions website', descAf: 'Houer oplossings webwerf' },
        { title: 'Commercial PV', img: 'CommercialPV.png', url: 'https://commercialpv.co.za/', tags: ['WordPress', 'Solar'], descEn: 'Commercial solar solutions website', descAf: 'Kommersiële sonkrag oplossings webwerf' },
        { title: 'Battery Distributors', img: 'batterydis.png', url: 'https://batterydistributors.co.za/', tags: ['WordPress', 'E-commerce'], descEn: 'Battery products e-commerce store', descAf: 'Battery produkte e-handel winkel' },
        { title: 'Rectifier', img: 'rectifier.png', url: 'https://rectifier.co.za/', tags: ['WordPress', 'PHP'], descEn: 'Power electronics company website', descAf: 'Krag-elektronika maatskappy webwerf' },
        { title: 'Go4Green', img: 'go4green.png', url: 'https://go4greenenergy.co.za/', tags: ['WordPress', 'Green Energy'], descEn: 'Green energy solutions website', descAf: 'Groen energie oplossings webwerf' },
        { title: 'Current Automation', img: 'Current%20automation.png', url: 'https://currentautomation.ca/', tags: ['WordPress', 'E-commerce'], descEn: 'Industrial automation e-commerce', descAf: 'Industriële outomatisering e-handel' },
        { title: "CA's Meanwell", img: 'CA%20meanwell.png', url: 'https://meanwell.co.za/', tags: ['WordPress', 'E-commerce'], descEn: 'Power supply products e-commerce', descAf: 'Kragtoevoer produkte e-handel' },
        { title: 'Solar-Solution', img: 'Solar%20solutions.png', url: 'https://solar-solution.co.za/', tags: ['WordPress', 'Solar'], descEn: 'Solar energy solutions website', descAf: 'Sonkrag oplossings webwerf' },
        { title: 'Victron Products', img: 'Victron.png', url: 'https://victronproducts.co.za/', tags: ['WordPress', 'E-commerce'], descEn: 'Victron energy products e-commerce', descAf: 'Victron energie produkte e-handel' },
        { title: 'COD BO3 Crash Bandicoot', img: 'Crash%20bandicoot.png', url: 'https://steamcommunity.com/sharedfiles/filedetails/?id=3234555216&searchtext=crash', tags: ['Radiant', 'Game Dev'], icon: 'fab fa-steam', descEn: 'Custom zombie map on Steam Workshop', descAf: 'Pasgemaakte zombie kaart op Steam Workshop' },
        { title: 'Forgotten Room 115', img: 'forgotten%20room%20115.png', url: 'https://steamcommunity.com/sharedfiles/filedetails/?id=3326520485', tags: ['Radiant', '3D Modeling'], icon: 'fab fa-steam', descEn: 'Custom COD BO3 zombie map with unique mechanics', descAf: 'Pasgemaakte COD BO3 zombie kaart met unieke meganika' },
        { title: 'Cod bo3 mod tools super', img: 'discorcod.png', url: '#', tags: ['Mods', '3D Models', 'Scripts'], icon: 'fab fa-discord', descEn: 'Custom COD BO3 zombie Mods, Scripts, 3D models', descAf: 'Pasgemaakte COD BO3 zombie Mods, Skrifte, 3D modelle' }
    ]
};

// ===== UTILITIES =====
const $ = sel => document.querySelector(sel);
const $$ = sel => document.querySelectorAll(sel);

// Debounce function for scroll events
function debounce(fn, delay) {
    let timeout;
    return (...args) => {
        clearTimeout(timeout);
        timeout = setTimeout(() => fn(...args), delay);
    };
}

// Throttle function for frequent events
function throttle(fn, limit) {
    let inThrottle;
    return (...args) => {
        if (!inThrottle) {
            fn(...args);
            inThrottle = true;
            setTimeout(() => inThrottle = false, limit);
        }
    };
}

// ===== LANGUAGE =====
function setLanguage(lang) {
    App.state.lang = lang;
    $$('[data-text-en], [data-text-af]').forEach(el => {
        const text = el.getAttribute(`data-text-${lang}`);
        if (text) el.textContent = text;
    });
    $$('[data-placeholder-en], [data-placeholder-af]').forEach(el => {
        const ph = el.getAttribute(`data-placeholder-${lang}`);
        if (ph) el.placeholder = ph;
    });
    $('.lang-text').textContent = lang === 'en' ? 'AF' : 'EN';
    localStorage.setItem('portfolio-lang', lang);
}

// ===== THEME =====
function setTheme(theme) {
    App.state.theme = theme;
    document.body.setAttribute('data-theme', theme);
    $('#themeToggle i').className = theme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
    localStorage.setItem('portfolio-theme', theme);
}

// ===== NAVIGATION =====
function initNavigation() {
    // Smooth scroll for nav links
    $$('.nav-link[href^="#"]').forEach(link => {
        link.addEventListener('click', e => {
            e.preventDefault();
            const target = $(link.getAttribute('href'));
            if (target) {
                window.scrollTo({ top: target.offsetTop - 70, behavior: 'smooth' });
                $$('.nav-link').forEach(l => l.classList.remove('active'));
                link.classList.add('active');
                if (App.state.menuOpen) toggleMenu();
            }
        });
    });
    
    // Optimized scroll handler
    const handleScroll = throttle(() => {
        const scrollY = window.scrollY;
        $('#header').classList.toggle('scrolled', scrollY > 50);
        
        // Update active nav link
        const sections = $$('section[id]');
        for (const section of sections) {
            const top = section.offsetTop - 100;
            const bottom = top + section.offsetHeight;
            if (scrollY >= top && scrollY < bottom) {
                $$('.nav-link').forEach(l => l.classList.remove('active'));
                $(`.nav-link[href="#${section.id}"]`)?.classList.add('active');
                break;
            }
        }
    }, 100);
    
    window.addEventListener('scroll', handleScroll, { passive: true });
}

// ===== MOBILE MENU =====
function toggleMenu() {
    App.state.menuOpen = !App.state.menuOpen;
    $('#navMenu').classList.toggle('active', App.state.menuOpen);
    $('#menuToggle').classList.toggle('active', App.state.menuOpen);
    $('#menuToggle').setAttribute('aria-expanded', App.state.menuOpen);
}

// ===== LOADER =====
function initLoader() {
    const loader = $('#loader');
    const loaderPercent = $('#loaderPercent');
    let progress = 0;
    
    const interval = setInterval(() => {
        progress += Math.random() * 25 + 5;
        if (progress >= 100) {
            progress = 100;
            clearInterval(interval);
            setTimeout(() => {
                loader.classList.add('hidden');
                App.state.loaded = true;
                initAnimations();
                loadGames();
                loadProjects();
                // Re-apply language after content is loaded
                setLanguage(App.state.lang);
            }, 200);
        }
        loaderPercent.textContent = Math.floor(progress) + '%';
    }, 80);
}

// ===== ANIMATIONS (Optimized with Intersection Observer) =====
function initAnimations() {
    // Skill bars animation
    const skillObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const item = entry.target;
                const percent = parseInt(item.dataset.percent) || 0;
                const bar = item.querySelector('.skill-progress');
                const text = item.querySelector('.skill-percent');
                
                requestAnimationFrame(() => {
                    bar.style.width = percent + '%';
                    animateNumber(text, 0, percent, 1500);
                });
                
                skillObserver.unobserve(item);
            }
        });
    }, { threshold: 0.3, rootMargin: '0px 0px -50px 0px' });
    
    $$('.skill-item').forEach(item => skillObserver.observe(item));
    
    // Stats counter animation
    const statObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const stat = entry.target;
                const target = parseInt(stat.dataset.count) || 0;
                animateNumber(stat, 0, target, 1500);
                statObserver.unobserve(stat);
            }
        });
    }, { threshold: 0.5 });
    
    $$('.stat-number').forEach(stat => statObserver.observe(stat));
}

// Optimized number animation
function animateNumber(el, start, end, duration) {
    const startTime = performance.now();
    
    function update(currentTime) {
        const elapsed = currentTime - startTime;
        const progress = Math.min(elapsed / duration, 1);
        const easeProgress = 1 - Math.pow(1 - progress, 3); // easeOutCubic
        const current = Math.floor(start + (end - start) * easeProgress);
        el.textContent = current + (el.classList.contains('skill-percent') ? '%' : '');
        
        if (progress < 1) {
            requestAnimationFrame(update);
        }
    }
    
    requestAnimationFrame(update);
}

// ===== GAMES (Dynamically loaded with iframes) =====
function loadGames() {
    const grid = $('#games-grid');
    if (!grid) return;
    
    const gameBase = 'https://williamsham90.github.io/Portfolio/Games/';
    const fragment = document.createDocumentFragment();
    
    App.games.forEach((game, index) => {
        const card = document.createElement('article');
        card.className = 'game-card';
        card.innerHTML = `
            <div class="game-preview">
                <div class="game-loader" id="loader-${game.id}">
                    <i class="${game.icon} game-loader-icon" aria-hidden="true"></i>
                    <div class="game-loader-spinner"></div>
                    <span class="game-loader-text" data-text-en="Loading game..." data-text-af="Laai speletjie...">Loading game...</span>
                </div>
                <div class="game-iframe-wrapper">
                    <iframe 
                        class="game-iframe" 
                        data-src="${gameBase}${game.file}"
                        title="${game.title}"
                        loading="lazy"
                        sandbox="allow-scripts allow-same-origin"
                        aria-label="Preview of ${game.title}"
                    ></iframe>
                </div>
                <div class="game-overlay">
                    <a href="${gameBase}${game.file}" target="_blank" rel="noopener noreferrer" class="game-play-btn">
                        <i class="fas fa-play" aria-hidden="true"></i>
                        <span data-text-en="Play Game" data-text-af="Speel Speletjie">Play Game</span>
                    </a>
                </div>
            </div>
            <div class="game-content">
                <h3 class="game-title"><i class="${game.icon}" aria-hidden="true"></i>${game.title}</h3>
                <p class="game-description" data-text-en="${game.descEn}" data-text-af="${game.descAf}">${App.state.lang === 'en' ? game.descEn : game.descAf}</p>
                <div class="game-tags">${game.tags.map(t => `<span class="game-tag">${t}</span>`).join('')}</div>
            </div>
        `;
        fragment.appendChild(card);
    });
    
    grid.appendChild(fragment);
    
    // Initialize lazy loading for game iframes
    initGameIframeLazyLoad();
}

// Lazy load game iframes when they come into view
function initGameIframeLazyLoad() {
    const gameObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const card = entry.target;
                const iframe = card.querySelector('.game-iframe');
                const loader = card.querySelector('.game-loader');
                const src = iframe.getAttribute('data-src');
                
                if (src && !iframe.src) {
                    iframe.src = src;
                    
                    iframe.addEventListener('load', () => {
                        // Add a small delay for smooth transition
                        setTimeout(() => {
                            loader.classList.add('hidden');
                        }, 500);
                    });
                    
                    // Fallback: Hide loader after timeout if load event doesn't fire
                    setTimeout(() => {
                        loader.classList.add('hidden');
                    }, 5000);
                }
                
                gameObserver.unobserve(card);
            }
        });
    }, { threshold: 0.1, rootMargin: '100px 0px' });
    
    $$('.game-card').forEach(card => gameObserver.observe(card));
}

// ===== PROJECTS (Lazy loaded) =====
function loadProjects() {
    const grid = $('#projects-grid');
    if (!grid) return;
    
    const imgBase = 'https://raw.githubusercontent.com/WilliamSham90/Portfolio/main/Images/';
    
    const fragment = document.createDocumentFragment();
    
    App.projects.forEach(project => {
        const card = document.createElement('article');
        card.className = 'project-card';
        card.innerHTML = `
            <div class="project-image">
                <img src="${imgBase}${project.img}" alt="${project.title}" loading="lazy" decoding="async">
                <div class="project-overlay">
                    <a href="${project.url}" ${project.url !== '#' ? 'target="_blank" rel="noopener noreferrer"' : ''} class="project-link" aria-label="View ${project.title}">
                        <i class="${project.icon || 'fas fa-external-link-alt'}"></i>
                    </a>
                </div>
            </div>
            <div class="project-content">
                <h3 class="project-title">${project.title}</h3>
                <p class="project-description" data-text-en="${project.descEn}" data-text-af="${project.descAf}">${App.state.lang === 'en' ? project.descEn : project.descAf}</p>
                <div class="project-tags">${project.tags.map(t => `<span class="tag">${t}</span>`).join('')}</div>
            </div>
        `;
        fragment.appendChild(card);
    });
    
    grid.appendChild(fragment);
}

// ===== PARTICLES (Reduced for performance) =====
function generateParticles() {
    const container = $('#particles');
    if (!container || window.innerWidth < 768) return;
    
    const symbols = ['{', '}', '[', ']', '<', '>', '/', '=', ';'];
    const fragment = document.createDocumentFragment();
    const count = window.innerWidth > 1024 ? 12 : 6;
    
    for (let i = 0; i < count; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.textContent = symbols[Math.floor(Math.random() * symbols.length)];
        particle.style.cssText = `left:${Math.random() * 100}%;animation-delay:${Math.random() * 20}s;animation-duration:${15 + Math.random() * 10}s`;
        fragment.appendChild(particle);
    }
    
    container.appendChild(fragment);
}

// ===== CONTACT FORM =====
function initContactForm() {
    const form = $('#contactForm');
    if (!form) return;
    
    form.addEventListener('submit', async e => {
        e.preventDefault();
        const btn = form.querySelector('.btn-submit');
        const originalText = btn.innerHTML;
        
        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
        btn.disabled = true;
        
        try {
            const response = await fetch(form.action, {
                method: 'POST',
                body: new FormData(form),
                headers: { 'Accept': 'application/json' }
            });
            
            if (response.ok) {
                form.reset();
                btn.innerHTML = '<i class="fas fa-check"></i> Sent!';
                setTimeout(() => btn.innerHTML = originalText, 3000);
            } else {
                throw new Error('Failed');
            }
        } catch {
            btn.innerHTML = '<i class="fas fa-exclamation-triangle"></i> Error';
            setTimeout(() => btn.innerHTML = originalText, 3000);
        } finally {
            btn.disabled = false;
        }
    });
}

// ===== INITIALIZATION =====
document.addEventListener('DOMContentLoaded', () => {
    // Apply saved settings
    setLanguage(App.state.lang);
    setTheme(App.state.theme);
    
    // Initialize components
    initNavigation();
    initContactForm();
    generateParticles();
    
    // Event listeners
    $('#langToggle').addEventListener('click', () => {
        setLanguage(App.state.lang === 'en' ? 'af' : 'en');
    });
    
    $('#themeToggle').addEventListener('click', () => {
        setTheme(App.state.theme === 'dark' ? 'light' : 'dark');
    });
    
    $('#menuToggle').addEventListener('click', toggleMenu);
    
    // Start loader
    initLoader();
});
    </script>
</body>
</html>
